https://drawsql.app/teams/eugene-lasevich/diagrams/dmadbms-2

“Аналог Booking.com”
Основная задача проекта заключается в предоставлении
возможности забронировать жилье в аренду на какой-либо срок.
Авторизация пользователя:

Пользователи должны иметь возможность зарегистрироваться и войти в систему.
Управление пользователями (CRUD):

Администратор должен иметь возможность создавать новых пользователей, просматривать, редактировать и удалять существующие учетные записи.
Пользователи должны иметь возможность изменять свои учетные данные (например, имя, адрес электронной почты, пароль).

Система ролей:
Должна быть реализована система ролей, позволяющая определять доступ к определенным функциям в зависимости от роли пользователя (например, администратор, модератор, клиент).
Администратор должен иметь права на управление ролями пользователей.
Журналирование действий пользователя:

Система должна фиксировать действия пользователей, такие как вход в систему, изменение данных профиля, бронирование, отмена заказов и т.д.
Логи должны включать информацию о времени и дате события, идентификаторе пользователя, выполнившего действие, а также описании самого действия.
Администратор и модераторы должны иметь доступ к журналам для мониторинга и анализа действий пользователей.


Основные роли и их задачи:
1. Администратор:
- Создание новых предложений.
- Редактирование / удаление уже имеющихся предложений.
- Просмотр логов.
- Добавление в систему модераторов.
- Просмотр профилей пользователей (больше возможностей,
чем у модератора).
2. Модератор:
- Просмотр и ответ на вопрос пользователя.
- Просмотр профилей пользователей.
3. Пользователь
- Регистрация.
- Авторизация.
- Создание профиля.
- Просмотр профиля.
- Редактирование профиля.
- Просмотр предложений.
- Оформление заказа.
- Отмена заказа.
Дополнительные сущности для функционирования системы и их
свойства:

Предложение:
Апартаменты (apartment_id): int
Внешний ключ, связанный с таблицей "Апартаменты" (Apartments).
Стоимость за сутки (price_per_night): double precision
Дни проживания (stay_days): int
Страна (country): varchar(255)
Адрес (address): varchar(255)

Апартаменты:
Тип (apartment_type): varchar(255)
Количество комнат (num_of_rooms): int
Количество этажей (num_of_floors): int
Количество спальных мест (num_of_beds): int

Заказ:
Предложение (listing_id): int
Внешний ключ, связанный с таблицей "Предложение" (offers).
Итоговая цена (total_price): double precision
Дата (order_date): date
Заказчик (customer_id): int
Внешний ключ, связанный с таблицей "Пользоваетли" (Users).

Вопрос:
Пользоваетель (client_id): int
Внешний ключ, связанный с таблицей "Пользователи" (Users).
Статус (status): bool
Вопрос (question_text): varchar(255)
Ответ (answer_text): varchar(255)

Тип апартаментов:
Название (type_name): varchar(255)

Действия (ActionLog):
Действие (action): varchar(255)
Дата (action_date): date
Пользователь (user_id): int
Внешний ключ, связанный с таблицей "Пользователи" (Users).
Описание (description): varchar(255)

Отзывы (Reviews):
Текст (review_text): varchar(255)
Оценка (rating): int
Пользователь (user_id): int
Внешний ключ, связанный с таблицей "Клиенты" (Clients).
Предложение (listing_id): int
Внешний ключ, связанный с таблицей "Предложение" (Listings).

Акции (Promotions):
Название (promotion_name): varchar(255)
Описание (description): varchar(255)
Скидка (discount): decimal
Дата (promotion_date): date
Предложение (offer_id): int
Внешний ключ, связанный с таблицей "Предложение" (Listings).

Роли (Roles):
Тип роли (role_type): varchar(255)
Пользователь (user_id): int
Внешний ключ, связанный с таблицей "Клиенты" (Clients).

Связи:
Один ко одному
 Апартменты - Предложение

Многоие ко одному:
Предложения - Закакзы
Отзывы - Предложения
Отзыввы - Пользоветели
Пользоваетель - Роли
Пользователи - Дейсвия
Апартамаенты - Тип
Акции - Предложения
Заказы - Пользователь

Многие ко многим
Пользователь - Вопросы



